 ä»ä¸­åºä¸ååºéå†åºåˆ—æ„é€ äºŒå‰æ ‘

ç»™å®šä¸¤ä¸ªæ•´æ•°æ•°ç»„ inorder å’Œ postorder ï¼Œå…¶ä¸­ inorder æ˜¯äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œ postorder æ˜¯åŒä¸€æ£µæ ‘çš„ååºéå†ï¼Œè¯·ä½ æ„é€ å¹¶è¿”å›è¿™é¢— äºŒå‰æ ‘ ã€‚

ç¤ºä¾‹ 1:


è¾“å…¥ï¼šinorder = [9,3,15,20,7], postorder = [9,15,7,20,3]
è¾“å‡ºï¼š[3,9,20,null,null,15,7]
ç¤ºä¾‹ 2:

è¾“å…¥ï¼šinorder = [-1], postorder = [-1]
è¾“å‡ºï¼š[-1]
 

æç¤º:

1 <= inorder.length <= 3000
postorder.length == inorder.length
-3000 <= inorder[i], postorder[i] <= 3000
inorder å’Œ postorder éƒ½ç”± ä¸åŒ çš„å€¼ç»„æˆ
postorder ä¸­æ¯ä¸€ä¸ªå€¼éƒ½åœ¨ inorder ä¸­
inorder ä¿è¯æ˜¯æ ‘çš„ä¸­åºéå†
postorder ä¿è¯æ˜¯æ ‘çš„ååºéå†


ğŸ§  ä¸€ã€ä½ è¦è®°ä½çš„å‰æçŸ¥è¯†ï¼ˆå…³é”®ç‚¹ï¼‰
âœ… ååºéå†ï¼šå·¦ â†’ å³ â†’ æ ¹
æ‰€ä»¥ååºéå†æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ å°±æ˜¯æ ¹èŠ‚ç‚¹

âœ… ä¸­åºéå†ï¼šå·¦ â†’ æ ¹ â†’ å³
æ‰€ä»¥æˆ‘ä»¬ä¸€æ—¦çŸ¥é“æ ¹èŠ‚ç‚¹å€¼ï¼Œå°±å¯ä»¥ç”¨ä¸­åºæ•°ç»„æŠŠå·¦å³å­æ ‘åˆ†å¼€
------------------------------------------------------------------------------

ä»€ä¹ˆæ˜¯å±‚åºéå†ï¼š
ğŸ§  ä»€ä¹ˆæ˜¯å±‚åºéå†ï¼ˆLevel Orderï¼‰ï¼Ÿ
ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚ä»å·¦åˆ°å³è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹ã€‚

æ¯”å¦‚ä½ æ„å»ºå‡ºçš„æ ‘æ˜¯è¿™æ ·ï¼š

        3
       / \
      9   20
         /  \
       15    7
-------------------------------------------------
ğŸŒ² å±‚åºéå†æµç¨‹ï¼š
ç¬¬ 0 å±‚ï¼š3

ç¬¬ 1 å±‚ï¼š9, 20

ç¬¬ 2 å±‚ï¼šnull, null, 15, 7

æœ€ç»ˆæŒ‰å±‚è¾“å‡ºæ‰€æœ‰èŠ‚ç‚¹å€¼ï¼ˆç”¨ null è¡¨ç¤ºç©ºå­èŠ‚ç‚¹ï¼‰ï¼š
[3, 9, 20, null, null, 15, 7]

-----------------------------------------------------------
ğŸŒ³ ç»™å®šçš„ä¸­åº + ååº + å‰åºéå†ï¼š
inorder    = [9,3,15,20,7]
postorder  = [9,15,7,20,3]
preorder = [3, 9, 20, 15, 7]

------------------------------------------------------------------------------------------------------------------------

æˆ‘ä»¬éœ€è¦æ¥è¿›è¡Œåˆ‡å‰²ï¼š
é¦–å…ˆæ˜¯åˆ‡å‰²çš„æ˜¯ï¼š
å› ä¸º3å¾ˆå¥½åœ¨åç»­éå†é‡Œé¢æ‰¾åˆ°as a rootï¼Œ
åˆå› ä¸ºï¼šååºæ•°ç»„æ²¡æœ‰â€œåƒä¸­åºé‚£æ ·çš„æ˜ç¡®åˆ‡ç‚¹â€ï¼Œ
æˆ‘ä»¬åªèƒ½é€šè¿‡â€œä¸­åºåˆ‡å‡ºæ¥çš„å·¦è¾¹é•¿åº¦â€ï¼Œæ¥åæ¨å‡ºååºçš„åˆ‡å‰²ç‚¹ï¼

æ‰€ä»¥æˆ‘ä»¬ä¹‹åä»¥3ä¸ºèµ·ç‚¹åœ¨ inorder è¿›è¡Œåˆ‡å‰²
å·¦å­æ ‘å°±æ˜¯ ï¼š
 9
root as :3
å³å­æ ‘å°±æ˜¯ :12 20 7

ç„¶åå°±æ˜¯æœ€éš¾çš„ï¼Œæ³¨æ„è¿™é‡Œï¼ï¼ï¼ï¼ï¼š

è¿™å°±æ˜¯ä¸ºå•¥è¦æ ¹æ®inorderçš„  å·¦ææ¥è¿›è¡Œä¸€ä¸ª åˆ‡åˆ† postorder:

ğŸ§  é€»è¾‘æ ¹æœ¬åœ¨äºï¼š
ä¸­åºéå†é¡ºåºï¼šå·¦ â†’ æ ¹ â†’ å³
â†’ æ‰€ä»¥ä½ çŸ¥é“æ ¹åœ¨ä¸­åºä½ç½® k
â†’ ä½ å°±çŸ¥é“å·¦å­æ ‘æœ‰ k ä¸ªèŠ‚ç‚¹

ååºéå†é¡ºåºï¼šå·¦ â†’ å³ â†’ æ ¹
â†’ æœ€åä¸€ä¸ªæ˜¯æ ¹ï¼Œå·²ç»ç”¨æ‰äº†
â†’ å‰é¢çš„å‰ k ä¸ªï¼Œå°±å¿…é¡»æ˜¯å·¦å­æ ‘çš„èŠ‚ç‚¹ï¼

ğŸ”— è¿™å°±æ˜¯â€œé€šè¿‡ä¸­åºä¸­å·¦è¾¹çš„èŠ‚ç‚¹ä¸ªæ•° kï¼Œå»åæ¨ååºä¸­å·¦å­æ ‘çš„èŒƒå›´â€çš„æ ¸å¿ƒåŸç†ã€‚

-----------------------------------------------------------------------------------


class Solution {
private:
    TreeNode* traversal(vector<int>& inorder, vector<int>& postorder) {
        if (postorder.size() == 0) return NULL;

        // ååºéå†æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå°±æ˜¯å½“å‰çš„ä¸­é—´èŠ‚ç‚¹
        int rootValue = postorder[postorder.size() - 1];
        TreeNode* root = new TreeNode(rootValue);

        // å¶å­èŠ‚ç‚¹
        if (postorder.size() == 1) return root;

        // æ‰¾åˆ°ä¸­åºéå†çš„åˆ‡å‰²ç‚¹
        int delimiterIndex;
        for (delimiterIndex = 0; delimiterIndex < inorder.size(); delimiterIndex++) {
            if (inorder[delimiterIndex] == rootValue) break;
        }

        // åˆ‡å‰²ä¸­åºæ•°ç»„
        // å·¦é—­å³å¼€åŒºé—´ï¼š[0, delimiterIndex)
        vector<int> leftInorder(inorder.begin(), inorder.begin() + delimiterIndex);
        // [delimiterIndex + 1, end)
        vector<int> rightInorder(inorder.begin() + delimiterIndex + 1, inorder.end());

        // postorder èˆå¼ƒæœ«å°¾å…ƒç´ 
        postorder.resize(postorder.size() - 1);

        // åˆ‡å‰²ååºæ•°ç»„
        // ä¾ç„¶å·¦é—­å³å¼€ï¼Œæ³¨æ„è¿™é‡Œä½¿ç”¨äº†å·¦ä¸­åºæ•°ç»„å¤§å°ä½œä¸ºåˆ‡å‰²ç‚¹
        // [0, leftInorder.size)
        vector<int> leftPostorder(postorder.begin(), postorder.begin() + leftInorder.size());
        // [leftInorder.size(), end)
        vector<int> rightPostorder(postorder.begin() + leftInorder.size(), postorder.end());

        root->left = traversal(leftInorder, leftPostorder);
        root->right = traversal(rightInorder, rightPostorder);

        return root;
    }
public:
    TreeNode* buildTree(vector<int>& inorder, vector<int>& postorder) {
        if (inorder.size() == 0 || postorder.size() == 0) return NULL;
        return traversal(inorder, postorder);
    }
};














